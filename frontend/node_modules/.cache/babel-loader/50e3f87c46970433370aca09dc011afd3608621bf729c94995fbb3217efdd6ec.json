{"ast":null,"code":"import { REDUX_SET_USERDATA } from \"../actions/actionTypes\";\nimport { delay, put } from \"redux-saga/effects\";\nimport { tostMessageCheck } from \"./ToastMessageCheck\";\nimport history from \"../../history\";\nexport function userLogin(_ref) {\n  let {\n    payload\n  } = _ref;\n  return function* () {\n    const {\n      email,\n      password\n    } = payload;\n    let data = yield fetch(\"http://localhost:5000/login\", {\n      method: \"post\",\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    data = yield data.json();\n    if (data.result) {\n      yield put({\n        type: REDUX_SET_USERDATA,\n        data\n      });\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: true\n      });\n      yield delay(2000);\n      history.push(\"/\");\n      history.go();\n    } else {\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: false\n      });\n    }\n  }();\n}\nexport function* checkConnection() {\n  let result = yield fetch(\"http://localhost:5000/checkconnection\", {\n    method: \"post\",\n    headers: {\n      authorization: `bearer ${JSON.parse(localStorage.getItem(\"token\"))}`\n    }\n  });\n  result = yield result.json();\n  if (result.result) {\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    let auth = JSON.parse(localStorage.getItem(\"token\"));\n    let data = {\n      user,\n      auth,\n      lifesycle: true\n    };\n    yield put({\n      type: REDUX_SET_USERDATA,\n      data\n    });\n  } else localStorage.setItem(\"lifesycle\", false);\n}\nexport function userCheck(_ref2) {\n  let {\n    user\n  } = _ref2;\n  return function* () {\n    console.warn(\"we are here\", user);\n    const {\n      email,\n      password,\n      ipAddress\n    } = user;\n    let data = yield fetch(\"http://localhost:5000/checkuser\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        password,\n        ipAddress\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    data = yield data.json();\n    if (data.result) {\n      data.isSendVertifyCode = true;\n      yield put({\n        type: REDUX_SET_USERDATA,\n        data\n      });\n      yield put({\n        type: \"SET_VERIFY_CODE_STATUS\",\n        isSendVertifyCode: data.isSendVertifyCode\n      });\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: true\n      });\n    } else {\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: false\n      });\n    }\n  }();\n}\nexport function userSignUp(_ref3) {\n  let {\n    user\n  } = _ref3;\n  return function* () {\n    console.warn(\"we are here\", user);\n    const {\n      email,\n      password,\n      ipAddress,\n      vertifyNumber\n    } = user;\n    let data = yield fetch(\"http://localhost:5000/signup\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        password,\n        ipAddress,\n        vertifyNumber\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    data = yield data.json();\n    if (data.result) {\n      yield put({\n        type: REDUX_SET_USERDATA,\n        data\n      });\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: true\n      });\n      yield delay(2000);\n      history.push(\"/\");\n      history.go();\n    } else {\n      tostMessageCheck({\n        body: data.body,\n        isSuccess: false\n      });\n    }\n  }();\n}\nexport function userPasswordRequest(_ref4) {\n  let {\n    user\n  } = _ref4;\n  return function* () {\n    const {\n      email\n    } = user;\n    let data = yield fetch(\"http://localhost:5000/newpassword\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email\n      }),\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n    data = yield data.json();\n    tostMessageCheck({\n      body: data.body,\n      isSuccess: true\n    });\n  }();\n}","map":{"version":3,"names":["REDUX_SET_USERDATA","delay","put","tostMessageCheck","history","userLogin","_ref","payload","email","password","data","fetch","method","body","JSON","stringify","headers","json","result","type","isSuccess","push","go","checkConnection","authorization","parse","localStorage","getItem","user","auth","lifesycle","setItem","userCheck","_ref2","console","warn","ipAddress","isSendVertifyCode","userSignUp","_ref3","vertifyNumber","userPasswordRequest","_ref4"],"sources":["C:/Users/e-ars/Documents/GitHub/apply4jobv11/frontend/src/redux/saga/UserConnection.js"],"sourcesContent":["import { REDUX_SET_USERDATA } from \"../actions/actionTypes\";\r\nimport { delay, put } from \"redux-saga/effects\";\r\nimport { tostMessageCheck } from \"./ToastMessageCheck\";\r\nimport history from \"../../history\";\r\n\r\nexport function* userLogin({ payload }) {\r\n  const { email, password } = payload;\r\n  let data = yield fetch(\"http://localhost:5000/login\", {\r\n    method: \"post\",\r\n    body: JSON.stringify({ email, password }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  data = yield data.json();\r\n  if (data.result) {\r\n    yield put({ type: REDUX_SET_USERDATA, data });\r\n    tostMessageCheck({ body: data.body, isSuccess: true });\r\n    yield delay(2000);\r\n    history.push(\"/\");\r\n    history.go();\r\n  } else {\r\n    tostMessageCheck({ body: data.body, isSuccess: false });\r\n  }\r\n}\r\n\r\nexport function* checkConnection() {\r\n  let result = yield fetch(\"http://localhost:5000/checkconnection\", {\r\n    method: \"post\",\r\n    headers: {\r\n      authorization: `bearer ${JSON.parse(localStorage.getItem(\"token\"))}`,\r\n    },\r\n  });\r\n  result = yield result.json();\r\n  if (result.result) {\r\n    let user = JSON.parse(localStorage.getItem(\"user\"));\r\n    let auth = JSON.parse(localStorage.getItem(\"token\"));\r\n    let data = { user, auth, lifesycle: true };\r\n    yield put({ type: REDUX_SET_USERDATA, data });\r\n  } else localStorage.setItem(\"lifesycle\", false);\r\n}\r\n\r\nexport function* userCheck({ user }) {\r\n  console.warn(\"we are here\", user);\r\n  const { email, password, ipAddress } = user;\r\n  let data = yield fetch(\"http://localhost:5000/checkuser\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email, password, ipAddress }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  data = yield data.json();\r\n  if (data.result) {\r\n    data.isSendVertifyCode = true;\r\n    yield put({ type: REDUX_SET_USERDATA, data });\r\n    yield put({\r\n      type: \"SET_VERIFY_CODE_STATUS\",\r\n      isSendVertifyCode: data.isSendVertifyCode,\r\n    });\r\n    tostMessageCheck({ body: data.body, isSuccess: true });\r\n  } else {\r\n    tostMessageCheck({ body: data.body, isSuccess: false });\r\n  }\r\n}\r\n\r\nexport function* userSignUp({ user }) {\r\n  console.warn(\"we are here\", user);\r\n  const { email, password, ipAddress, vertifyNumber } = user;\r\n  let data = yield fetch(\"http://localhost:5000/signup\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email, password, ipAddress, vertifyNumber }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  data = yield data.json();\r\n  if (data.result) {\r\n    yield put({ type: REDUX_SET_USERDATA, data });\r\n    tostMessageCheck({ body: data.body, isSuccess: true });\r\n    yield delay(2000);\r\n    history.push(\"/\");\r\n    history.go();\r\n  } else {\r\n    tostMessageCheck({ body: data.body, isSuccess: false });\r\n  }\r\n}\r\n\r\nexport function* userPasswordRequest({ user }) {\r\n  const { email } = user;\r\n  let data = yield fetch(\"http://localhost:5000/newpassword\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email }),\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n  });\r\n  data = yield data.json();\r\n\r\n  tostMessageCheck({ body: data.body, isSuccess: true });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}